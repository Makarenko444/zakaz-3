# –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ ~/projects/

## üìã –¶–µ–ª—å

- **zakaz3.tomica.ru**: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ `~/zakaz-3` –≤ `~/projects/zakaz-3`
- **zakaz2.tomica.ru**: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ `~/projects/zakaz-2`

---

## üîµ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è zakaz3.tomica.ru (—Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä)

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 –ø—Ä–æ—Ü–µ—Å—Å

```bash
pm2 stop zakaz-3
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é projects
mkdir -p ~/projects

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
mv ~/zakaz-3 ~/projects/zakaz-3

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å—ë –Ω–∞ –º–µ—Å—Ç–µ
ls -la ~/projects/zakaz-3
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å
pm2 delete zakaz-3

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd ~/projects/zakaz-3

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å —Å –Ω–æ–≤—ã–º –ø—É—Ç–µ–º
pm2 start npm --name "zakaz-3" -- start

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
pm2 list
pm2 logs zakaz-3 --lines 50
```

### 5. –û–±–Ω–æ–≤–∏—Ç–µ –∞–ª–∏–∞—Å—ã

```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∞–ª–∏–∞—Å—ã
sed -i '/alias pr-main=/d' ~/.bashrc
sed -i '/alias pr-zakaz3=/d' ~/.bashrc

# –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∞–ª–∏–∞—Å
echo "alias pr-zakaz3='cd ~/projects/zakaz-3 && ./pr-zakaz3.sh'" >> ~/.bashrc

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
source ~/.bashrc
```

### 6. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –¥–µ–ø–ª–æ–π

```bash
pr-zakaz3
```

‚úÖ **zakaz3.tomica.ru –≥–æ—Ç–æ–≤!**

---

## üî¥ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è zakaz2.tomica.ru (–ë–û–ï–í–û–ô —Å–µ—Ä–≤–µ—Ä)

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π PM2 –ø—Ä–æ—Ü–µ—Å—Å

```bash
pm2 list
```

–ó–∞–ø–æ–º–Ω–∏—Ç–µ –∏–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è zakaz2 (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —ç—Ç–æ `zakaz-2`).

### 2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 –ø—Ä–æ—Ü–µ—Å—Å

```bash
pm2 stop zakaz-2  # –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∏–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/projects

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd ~/projects
git clone https://github.com/Makarenko444/zakaz-3.git zakaz-2

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd zakaz-2
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
# –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –±—ã–ª –ø—Ä–æ–µ–∫—Ç –¥–ª—è zakaz2, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ .env:
# cp /–ø—É—Ç—å/–∫/—Å—Ç–∞—Ä–æ–º—É/–ø—Ä–æ–µ–∫—Ç—É/.env ~/projects/zakaz-2/.env.local

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π .env.local –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example
cp .env.example .env.local
nano .env.local  # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

**–í–∞–∂–Ω–æ! –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `DATABASE_URL` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö zakaz2
- `NEXTAUTH_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `NEXTAUTH_URL` - https://zakaz2.tomica.ru
- –î—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è zakaz2 –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
npm install
npm run build
```

### 6. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ PM2

```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–µ—Å–ª–∏ –±—ã–ª)
pm2 delete zakaz-2

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å
pm2 start npm --name "zakaz-2" -- start

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
pm2 startup
```

### 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
pm2 list
pm2 logs zakaz-2 --lines 50

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# https://zakaz2.tomica.ru
```

### 8. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–∏–∞—Å –¥–ª—è –¥–µ–ø–ª–æ—è

```bash
# –î–æ–±–∞–≤—å—Ç–µ –∞–ª–∏–∞—Å
echo "alias pr-zakaz2='cd ~/projects/zakaz-2 && ./pr-zakaz2.sh'" >> ~/.bashrc

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
source ~/.bashrc
```

### 9. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –¥–µ–ø–ª–æ–π

```bash
pr-zakaz2
```

‚úÖ **zakaz2.tomica.ru –≥–æ—Ç–æ–≤!**

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:

```
~/projects/
‚îú‚îÄ‚îÄ zakaz-3/          # –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (zakaz3.tomica.ru)
‚îÇ   ‚îú‚îÄ‚îÄ pr-zakaz3.sh
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ zakaz-2/          # –ë–æ–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä (zakaz2.tomica.ru)
    ‚îú‚îÄ‚îÄ pr-zakaz2.sh
    ‚îî‚îÄ‚îÄ ...
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–µ–ø–ª–æ—è

```bash
pr-zakaz3  # –î–µ–ø–ª–æ–π –Ω–∞ zakaz3.tomica.ru
pr-zakaz2  # –î–µ–ø–ª–æ–π –Ω–∞ zakaz2.tomica.ru
```

## üîí –í–∞–∂–Ω–æ –¥–ª—è zakaz2

- **–ë–û–ï–í–û–ô —Å–µ—Ä–≤–µ—Ä!** –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ `.env.local` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è zakaz2 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- –î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏

## üÜò –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –Ω–∞ zakaz3:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
pm2 stop zakaz-3

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ
mv ~/projects/zakaz-3 ~/zakaz-3

# –û–±–Ω–æ–≤–∏—Ç–µ PM2
pm2 delete zakaz-3
cd ~/zakaz-3
pm2 start npm --name "zakaz-3" -- start
pm2 save
```

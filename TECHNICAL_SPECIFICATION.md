# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏ "–ó–∞–∫–∞–∑-2.0"

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 29 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (MVP ~35% –≥–æ—Ç–æ–≤)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ](#—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
3. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
4. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
5. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
6. [API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](#api-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)
7. [UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#uiux-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
8. [–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞](#–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞)
9. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
10. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å —É–¥–æ–±–Ω—É—é –≤–µ–±-—Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç, –≤–µ–¥–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ø–µ—á–∞—Ç–∏ –Ω–∞—Ä—è–¥–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–Ω—Ç–∞–∂–Ω—ã—Ö –±—Ä–∏–≥–∞–¥.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã** - –ø—Ä–∏–µ–º –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫
- **–ò–Ω–∂–µ–Ω–µ—Ä—ã** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–∞–±–æ—Ç
- **–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏ –±—Ä–∏–≥–∞–¥** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–±–æ—Ç
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ü–ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç –º–æ–Ω—Ç–∞–∂–Ω—ã—Ö –±—Ä–∏–≥–∞–¥
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF-–Ω–∞—Ä—è–¥–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (MVP ~35%)

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (100% –≥–æ—Ç–æ–≤–æ)
- 11 —Ç–∞–±–ª–∏—Ü —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- 6 enum —Ç–∏–ø–æ–≤ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- 12 –∞–¥—Ä–µ—Å–æ–≤ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ
- 3 —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞—è–≤–∫–∏

#### Frontend Next.js 15 (75% –≥–æ—Ç–æ–≤–æ)
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏** - –ø–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–∫–∏** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏** - —Ñ–æ—Ä–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

#### API Routes (75% –≥–æ—Ç–æ–≤–æ)
- `GET /api/applications` - —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
- `POST /api/applications` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
- `GET /api/applications/[id]` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
- `PATCH /api/applications/[id]` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
- `GET /api/addresses` - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–¥—Ä–µ—Å–æ–≤

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–¥—Ä–µ—Å–æ–≤ (CRUD)
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥–∞–º–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞—è–≤–∫–∞–º
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç
- –î–∞—à–±–æ—Ä–¥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ü–µ—á–∞—Ç—å –Ω–∞—Ä—è–¥–æ–≤ PDF
- Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## üèó –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

#### Backend/Database
- **PostgreSQL 15.8** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Supabase** - BaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (self-hosted)
- **PostgREST** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π REST API
- **Kong** - API Gateway

#### Frontend
- **Next.js 15.5.4** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (App Router)
- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript 5.7** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Tailwind CSS 3.4** - utility-first CSS
- **React Hook Form** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞–º–∏
- **Zod** - —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### DevOps/Infrastructure
- **Ubuntu 24.10** - –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **Node.js 20.19.4 LTS** - JavaScript runtime
- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy
- **PM2** - –ø—Ä–æ—Ü–µ—Å—Å-–º–µ–Ω–µ–¥–∂–µ—Ä
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è (Supabase)
- **Certbot** - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

### –°—Ö–µ–º–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```
[Internet] 
    ‚Üì HTTPS (443)
[Nginx Reverse Proxy]
    ‚Üì HTTP (3000)
[Next.js Application]
    ‚Üì HTTP API (8000)
[Supabase (Kong Gateway)]
    ‚Üì PostgreSQL (5432)
[PostgreSQL Database]
```

### URLs –∏ –¥–æ—Å—Ç—É–ø—ã
- **Production:** https://zakaz2.tomica.ru
- **Development:** http://localhost:3000
- **Supabase API:** https://supabase.tomica.ru
- **Supabase Studio:** http://supabase.tomica.ru:54323
- **PostgreSQL:** supabase.tomica.ru:5432

---

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏

#### 1.1 –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞—è–≤–∫–∏
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- –ê–¥—Ä–µ—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–≤—ã–±–æ—Ä –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞)
- –¢–∏–ø –∫–ª–∏–µ–Ω—Ç–∞: —Ñ–∏–∑.–ª–∏—Ü–æ, —é—Ä.–ª–∏—Ü–æ
- –¢–∏–ø —É—Å–ª—É–≥–∏: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ñ–∏—Å–∞, —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –°–ö–°
- –§–ò–û/–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- –¢–µ–ª–µ—Ñ–æ–Ω –∑–∞–∫–∞–∑—á–∏–∫–∞
- –¢–µ–ª–µ—Ñ–æ–Ω –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞ (–¥–ª—è —é—Ä.–ª–∏—Ü)
- –°—Ä–æ—á–Ω–æ—Å—Ç—å: –Ω–∏–∑–∫–∞—è, –æ–±—ã—á–Ω–∞—è, –≤—ã—Å–æ–∫–∞—è, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–ª–∏–µ–Ω—Ç–∞

**–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è:**
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### 1.2 –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫
1. **new** - –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ (—Å–µ—Ä—ã–π)
2. **thinking** - –ó–∞–∫–∞–∑—á–∏–∫ –¥—É–º–∞–µ—Ç (—Å–∏–Ω–∏–π)
3. **estimation** - –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–∏–Ω–¥–∏–≥–æ)
4. **waiting_payment** - –û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (—è–Ω—Ç–∞—Ä–Ω—ã–π)
5. **contract** - –î–æ–≥–æ–≤–æ—Ä (—Ü–∏–∞–Ω)
6. **queue_install** - –û—á–µ—Ä–µ–¥—å –Ω–∞ –º–æ–Ω—Ç–∞–∂ (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
7. **install** - –ú–æ–Ω—Ç–∞–∂ (–≤–∏–æ–ª–µ—Ç)
8. **installed** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ (–∑–µ–ª—ë–Ω—ã–π)
9. **rejected** - –û—Ç–∫–∞–∑ (–∫—Ä–∞—Å–Ω—ã–π)
10. **no_tech** - –ù–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)

#### 1.3 CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **Create** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏
- ‚úÖ **Read** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏ –¥–µ—Ç–∞–ª–µ–π –∑–∞—è–≤–∫–∏
- ‚úÖ **Update** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π
- üöß **Status Change** - —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚ùå **Delete** - —É–¥–∞–ª–µ–Ω–∏–µ (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)

### 2. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–¥—Ä–µ—Å–æ–≤

#### 2.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥—Ä–µ—Å–∞
- –£–ª–∏—Ü–∞
- –ù–æ–º–µ—Ä –¥–æ–º–∞
- –ü–æ–¥—ä–µ–∑–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### 2.2 –§—É–Ω–∫—Ü–∏–∏
- ‚úÖ –í—ã–±–æ—Ä –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏
- üöß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞
- üöß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
- üöß –ü–æ–∏—Å–∫ –ø–æ —É–ª–∏—Ü–µ/–¥–æ–º—É
- üöß –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### 3.1 –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **operator** - –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞—è–≤–∫–∏, –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- **engineer** - –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
- **lead** - —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –±—Ä–∏–≥–∞–¥—ã, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç
- **admin** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

#### 3.2 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- üöß –í—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é —á–µ—Ä–µ–∑ Supabase Auth
- üöß –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ middleware
- üöß –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üöß –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏)

#### 4.1 –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 4.2 –§–∞–π–ª—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Supabase Storage
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: PDF, JPG, PNG, XLSX, DOCX
- –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞: 25 MB

#### 4.3 –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞–±–æ—Ç (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü)
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –Ω–∞ –±—Ä–∏–≥–∞–¥—ã
- Drag-and-drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏

#### 4.4 –î–∞—à–±–æ—Ä–¥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- KPI –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∑–∞—è–≤–æ–∫
- –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –∑–∞—è–≤–æ–∫
- –ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–∏–≥–∞–¥
- –°—Ä–µ–¥–Ω–∏–π SLA
- –¢–æ–ø –∞–¥—Ä–µ—Å–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞—è–≤–æ–∫

#### 4.5 –ü–µ—á–∞—Ç—å –Ω–∞—Ä—è–¥–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞—è–≤–∫–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —à–∞–±–ª–æ–Ω
- –õ–æ–≥–æ—Ç–∏–ø –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏

#### 4.6 Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ë–æ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏, —Å—Ç–∞—Ç—É—Å)
- –ë–æ—Ç –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- Webhook –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### zakaz_users - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
```sql
id                UUID PRIMARY KEY
email             TEXT UNIQUE NOT NULL
full_name         TEXT NOT NULL
phone             TEXT
role              zakaz_user_role NOT NULL
created_at        TIMESTAMPTZ DEFAULT NOW()
updated_at        TIMESTAMPTZ DEFAULT NOW()
```

#### zakaz_addresses - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–¥—Ä–µ—Å–æ–≤
```sql
id                UUID PRIMARY KEY
street            TEXT NOT NULL
house             TEXT NOT NULL
entrance          TEXT
comment           TEXT
latitude          DECIMAL(10,8)
longitude         DECIMAL(11,8)
created_at        TIMESTAMPTZ DEFAULT NOW()
updated_at        TIMESTAMPTZ DEFAULT NOW()
```

#### zakaz_applications - –ó–∞—è–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
```sql
id                UUID PRIMARY KEY
address_id        UUID REFERENCES zakaz_addresses(id)
customer_type     zakaz_customer_type NOT NULL
service_type      zakaz_service_type NOT NULL
customer_fullname TEXT NOT NULL
customer_phone    TEXT NOT NULL
contact_person    TEXT
contact_phone     TEXT
urgency           zakaz_urgency DEFAULT 'normal'
status            zakaz_application_status DEFAULT 'new'
assigned_to       UUID REFERENCES zakaz_users(id)
client_comment    TEXT
created_at        TIMESTAMPTZ DEFAULT NOW()
updated_at        TIMESTAMPTZ DEFAULT NOW()
```

#### zakaz_application_status_history - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
```sql
id                UUID PRIMARY KEY
application_id    UUID REFERENCES zakaz_applications(id)
old_status        zakaz_application_status
new_status        zakaz_application_status NOT NULL
changed_by        UUID REFERENCES zakaz_users(id)
changed_at        TIMESTAMPTZ DEFAULT NOW()
comment           TEXT
```

### Enum —Ç–∏–ø—ã

```sql
-- –¢–∏–ø—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
CREATE TYPE zakaz_customer_type AS ENUM ('individual', 'business');

-- –¢–∏–ø—ã —É—Å–ª—É–≥
CREATE TYPE zakaz_service_type AS ENUM ('apartment', 'office', 'scs');

-- –£—Ä–æ–≤–Ω–∏ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
CREATE TYPE zakaz_urgency AS ENUM ('low', 'normal', 'high', 'critical');

-- –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫
CREATE TYPE zakaz_application_status AS ENUM (
  'new', 'thinking', 'estimation', 'waiting_payment', 
  'contract', 'queue_install', 'install', 'installed', 
  'rejected', 'no_tech'
);

-- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TYPE zakaz_user_role AS ENUM ('operator', 'engineer', 'lead', 'admin');

-- –°—Ç–∞—Ç—É—Å—ã —Ä–∞–±–æ—Ç
CREATE TYPE zakaz_work_slot_status AS ENUM ('planned', 'in_progress', 'done', 'canceled');
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

- `zakaz_brigades` - –ú–æ–Ω—Ç–∞–∂–Ω—ã–µ –±—Ä–∏–≥–∞–¥—ã
- `zakaz_brigade_members` - –°–æ—Å—Ç–∞–≤ –±—Ä–∏–≥–∞–¥
- `zakaz_comments` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞—è–≤–∫–∞–º
- `zakaz_files` - –§–∞–π–ª—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `zakaz_comment_files` - –°–≤—è–∑—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å —Ñ–∞–π–ª–∞–º–∏
- `zakaz_application_files` - –§–∞–π–ª—ã –∑–∞—è–≤–æ–∫
- `zakaz_work_slots` - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç

---

## üîå API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–π URL
- **Production:** `https://zakaz2.tomica.ru/api`
- **Development:** `http://localhost:3000/api`

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
Authorization: Bearer <supabase_jwt_token>
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞—è–≤–æ–∫

#### GET /applications
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
```
?status=new,thinking          # –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
&urgency=high,critical        # –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
&customer_type=individual     # –¢–∏–ø –∫–ª–∏–µ–Ω—Ç–∞
&service_type=apartment       # –¢–∏–ø —É—Å–ª—É–≥–∏
&assigned_to=uuid             # –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
&address_id=uuid              # –ê–¥—Ä–µ—Å
&search=query                 # –ü–æ–∏—Å–∫ –ø–æ –§–ò–û/—Ç–µ–ª–µ—Ñ–æ–Ω—É
&page=1                       # –°—Ç—Ä–∞–Ω–∏—Ü–∞
&limit=20                     # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "applications": [
    {
      "id": "uuid",
      "address": {
        "id": "uuid",
        "street": "–õ–µ–Ω–∏–Ω–∞",
        "house": "56",
        "entrance": "1"
      },
      "customer_type": "individual",
      "service_type": "apartment",
      "customer_fullname": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
      "customer_phone": "+79991112233",
      "urgency": "normal",
      "status": "new",
      "created_at": "2025-10-20T10:00:00Z",
      "updated_at": "2025-10-20T10:00:00Z"
    }
  ],
  "total": 100,
  "page": 1,
  "limit": 20,
  "pages": 5
}
```

#### POST /applications
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "address_id": "uuid",
  "customer_type": "individual",
  "service_type": "apartment",
  "customer_fullname": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "customer_phone": "+79991112233",
  "contact_person": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",     // –¥–ª—è —é—Ä.–ª–∏—Ü
  "contact_phone": "+79994445566",     // –¥–ª—è —é—Ä.–ª–∏—Ü
  "urgency": "normal",
  "client_comment": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–ª–∏–µ–Ω—Ç–∞"
}
```

#### GET /applications/{id}
–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–∫–µ

#### PATCH /applications/{id}
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏

#### PATCH /applications/{id}/status
–°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "status": "thinking",
  "comment": "–ü—Ä–∏—á–∏–Ω–∞ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞"
}
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–¥—Ä–µ—Å–æ–≤

#### GET /addresses
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∞–¥—Ä–µ—Å–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```
?search=query          # –ü–æ–∏—Å–∫ –ø–æ —É–ª–∏—Ü–µ/–¥–æ–º—É
&street=–õ–µ–Ω–∏–Ω–∞         # –§–∏–ª—å—Ç—Ä –ø–æ —É–ª–∏—Ü–µ
```

#### POST /addresses
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞

#### PATCH /addresses/{id}
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞

#### DELETE /addresses/{id}
–£–¥–∞–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- `200` - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `201` - –†–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω
- `400` - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403` - –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- `404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `409` - –ö–æ–Ω—Ñ–ª–∏–∫—Ç (–¥—É–±–ª–∏–∫–∞—Ç)
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üé® UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

#### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
- **new** ‚Üí –°–µ—Ä—ã–π (`bg-gray-100`, `text-gray-800`)
- **thinking** ‚Üí –°–∏–Ω–∏–π (`bg-blue-100`, `text-blue-800`)
- **estimation** ‚Üí –ò–Ω–¥–∏–≥–æ (`bg-indigo-100`, `text-indigo-800`)
- **waiting_payment** ‚Üí –Ø–Ω—Ç–∞—Ä–Ω—ã–π (`bg-amber-100`, `text-amber-800`)
- **contract** ‚Üí –¶–∏–∞–Ω (`bg-cyan-100`, `text-cyan-800`)
- **queue_install** ‚Üí –§–∏–æ–ª–µ—Ç–æ–≤—ã–π (`bg-purple-100`, `text-purple-800`)
- **install** ‚Üí –í–∏–æ–ª–µ—Ç (`bg-violet-100`, `text-violet-800`)
- **installed** ‚Üí –ó–µ–ª—ë–Ω—ã–π (`bg-green-100`, `text-green-800`)
- **rejected** ‚Üí –ö—Ä–∞—Å–Ω—ã–π (`bg-red-100`, `text-red-800`)
- **no_tech** ‚Üí –û—Ä–∞–Ω–∂–µ–≤—ã–π (`bg-orange-100`, `text-orange-800`)

#### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
- **low** ‚Üí –°–µ—Ä—ã–π (`text-gray-600`)
- **normal** ‚Üí –°–∏–Ω–∏–π (`text-blue-600`)
- **high** ‚Üí –û—Ä–∞–Ω–∂–µ–≤—ã–π (`text-orange-600`)
- **critical** ‚Üí –ö—Ä–∞—Å–Ω—ã–π (`text-red-600`)

#### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫ H1** ‚Üí `text-2xl font-bold` (24px, 700)
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫ H2** ‚Üí `text-xl font-semibold` (20px, 600)
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫ H3** ‚Üí `text-lg font-semibold` (18px, 600)
- **–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç** ‚Üí `text-sm` (14px)
- **–ú–µ–ª–∫–∏–π —Ç–µ–∫—Å—Ç** ‚Üí `text-xs` (12px)
- **–õ–µ–π–±–ª—ã** ‚Üí `text-sm font-medium` (14px, 500)

### –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

#### –î–µ—Å–∫—Ç–æ–ø (‚â•1024px)
- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é —Å–ª–µ–≤–∞ (240px)
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —Ü–µ–Ω—Ç—Ä—É
- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –¥–µ—Ç–∞–ª–µ–π (400px)
- –¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

#### –ü–ª–∞–Ω—à–µ—Ç (768px - 1023px)
- –°–∫—Ä—ã–≤–∞–µ–º–æ–µ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã
- –ö–∞—Ä—Ç–æ—á–∫–∏ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫

#### –ú–æ–±–∏–ª—å–Ω—ã–π (‚â§767px)
- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞—è–≤–æ–∫
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
- –ö–Ω–æ–ø–∫–∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (44px+)

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

#### –ö–Ω–æ–ø–∫–∏
- **–û—Å–Ω–æ–≤–Ω–∞—è** ‚Üí `bg-blue-600 hover:bg-blue-700 text-white`
- **–í—Ç–æ—Ä–∏—á–Ω–∞—è** ‚Üí `bg-gray-200 hover:bg-gray-300 text-gray-900`
- **–û–ø–∞—Å–Ω–∞—è** ‚Üí `bg-red-600 hover:bg-red-700 text-white`

#### –§–æ—Ä–º—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–º –ø–æ–ª–µ

#### –°–æ—Å—Ç–æ—è–Ω–∏—è
- **Loading** ‚Üí –°–∫–µ–ª–µ—Ç–æ–Ω—ã –∏ —Å–ø–∏–Ω–Ω–µ—Ä—ã
- **Empty** ‚Üí –ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–∏–∑—ã–≤—ã –∫ –¥–µ–π—Å—Ç–≤–∏—é
- **Error** ‚Üí –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–≤—Ç–æ—Ä–∞

---

## üõ£ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

### –§–∞–∑–∞ 1: MVP –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (2-3 –Ω–µ–¥–µ–ª–∏)

#### –ù–µ–¥–µ–ª—è 1: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [x] CRUD –∑–∞—è–≤–æ–∫ (–≥–æ—Ç–æ–≤–æ)
- [ ] –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π (2-3 —á–∞—Å–∞)
- [ ] –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–¥—Ä–µ—Å–æ–≤ CRUD (3-4 —á–∞—Å–∞)
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ (4-5 —á–∞—Å–æ–≤)
- [ ] Row Level Security (2-3 —á–∞—Å–∞)

#### –ù–µ–¥–µ–ª—è 2: UX —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π (3-4 —á–∞—Å–∞)
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞—è–≤–∫–∏ (2-3 —á–∞—Å–∞)
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2-3 —á–∞—Å–∞)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (2-3 —á–∞—Å–∞)

#### –ù–µ–¥–µ–ª—è 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
- [ ] Production –¥–µ–ø–ª–æ–π
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (3-4 –Ω–µ–¥–µ–ª–∏)

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥–∞–º–∏ (1 –Ω–µ–¥–µ–ª—è)
- [ ] CRUD –±—Ä–∏–≥–∞–¥
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–æ–º
- [ ] –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –Ω–∞ –±—Ä–∏–≥–∞–¥—ã

#### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã (1 –Ω–µ–¥–µ–ª—è)
- [ ] –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ Supabase Storage
- [ ] –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç (1-2 –Ω–µ–¥–µ–ª–∏)
- [ ] –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] Drag-and-drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏

### –§–∞–∑–∞ 3: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (2-3 –Ω–µ–¥–µ–ª–∏)

#### –î–∞—à–±–æ—Ä–¥ (1 –Ω–µ–¥–µ–ª—è)
- [ ] KPI –≤–∏–¥–∂–µ—Ç—ã
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

#### –ü–µ—á–∞—Ç—å –Ω–∞—Ä—è–¥–æ–≤ (1 –Ω–µ–¥–µ–ª—è)
- [ ] PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- [ ] –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã
- [ ] –õ–æ–≥–æ—Ç–∏–ø –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã

#### Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1 –Ω–µ–¥–µ–ª—è)
- [ ] –ë–æ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] Webhook API
- [ ] n8n –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –§–∞–∑–∞ 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Sentry)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus)
- [ ] –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∏–µ —Ä–∏—Å–∫–∏ ‚ö†Ô∏è

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (—Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è)
1. **RLS –æ—Ç–∫–ª—é—á–µ–Ω** - –ª—é–±–æ–π —Å API –∫–ª—é—á–æ–º –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
2. **–ù–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **Dev —Ä–µ–∂–∏–º –≤ production** - –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

#### –°—Ä–µ–¥–Ω–∏–µ
4. **ANON key –≤ .env.local** - –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º RLS
5. **–ù–µ—Ç rate limiting** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å DDoS –∞—Ç–∞–∫
6. **CORS warnings** - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

### –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```sql
-- Row Level Security –ø–æ–ª–∏—Ç–∏–∫–∏

-- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –≤—Å–µ –∑–∞—è–≤–∫–∏
CREATE POLICY "operators_all_applications" ON zakaz_applications
  FOR ALL TO authenticated
  USING (
    EXISTS (
      SELECT 1 FROM zakaz_users 
      WHERE id = auth.uid() AND role = 'operator'
    )
  );

-- –ò–Ω–∂–µ–Ω–µ—Ä—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
CREATE POLICY "engineers_assigned_applications" ON zakaz_applications
  FOR SELECT TO authenticated
  USING (
    assigned_to = auth.uid() OR
    EXISTS (
      SELECT 1 FROM zakaz_users 
      WHERE id = auth.uid() AND role IN ('operator', 'admin')
    )
  );

-- –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –≤—Å—ë
CREATE POLICY "admins_all_access" ON zakaz_applications
  FOR ALL TO authenticated
  USING (
    EXISTS (
      SELECT 1 FROM zakaz_users 
      WHERE id = auth.uid() AND role = 'admin'
    )
  );
```

#### –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–æ–∫–æ–µ** - PostgreSQL volume encryption
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç—Ä–∞–Ω–∑–∏—Ç–µ** - TLS 1.2+ –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤
- **–ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - ClamAV –¥–ª—è –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- **EXIF –æ—á–∏—Å—Ç–∫–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### API –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Rate limiting** - 60 rps –Ω–∞ JWT —Ç–æ–∫–µ–Ω
- **CORS –ø–æ–ª–∏—Ç–∏–∫–∏** - —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- **CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏** - Content Security Policy
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - Zod —Å—Ö–µ–º—ã
- **SQL injection –∑–∞—â–∏—Ç–∞** - –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

#### –ê—É–¥–∏—Ç –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∞—É–¥–∏—Ç–∞
CREATE TABLE zakaz_audit_log (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  timestamp TIMESTAMPTZ DEFAULT NOW(),
  actor_id UUID REFERENCES zakaz_users(id),
  action TEXT NOT NULL,
  entity_type TEXT NOT NULL,
  entity_id UUID,
  old_values JSONB,
  new_values JSONB,
  ip_address INET,
  user_agent TEXT
);
```

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ
- **CPU:** 2 vCPU
- **RAM:** 4 GB
- **Storage:** 50 GB SSD
- **Network:** 100 Mbps

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
- **CPU:** 4 vCPU
- **RAM:** 8 GB
- **Storage:** 100 GB SSD
- **Network:** 1 Gbps

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```yaml
# docker-compose.yml
version: '3.8'

services:
  # PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  postgres:
    image: postgres:15.8-alpine
    environment:
      POSTGRES_DB: postgres
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database/migrations:/docker-entrypoint-initdb.d
    ports:
      - "5432:5432"

  # Supabase Services
  supabase-kong:
    image: kong:3.1.1-alpine
    environment:
      KONG_DATABASE: "off"
      KONG_DECLARATIVE_CONFIG: /var/lib/kong/kong.yml
    volumes:
      - ./supabase/kong.yml:/var/lib/kong/kong.yml
    ports:
      - "8000:8000"

  supabase-auth:
    image: supabase/gotrue:v2.99.0
    environment:
      GOTRUE_API_HOST: 0.0.0.0
      GOTRUE_API_PORT: 9999
      GOTRUE_DB_DRIVER: postgres
      GOTRUE_DB_DATABASE_URL: postgres://postgres:${DB_PASSWORD}@postgres:5432/postgres
    depends_on:
      - postgres

  supabase-rest:
    image: postgrest/postgrest:v11.2.0
    environment:
      PGRST_DB_URI: postgres://postgres:${DB_PASSWORD}@postgres:5432/postgres
      PGRST_DB_SCHEMAS: public
      PGRST_DB_ANON_ROLE: anon
    depends_on:
      - postgres

  # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    environment:
      NEXT_PUBLIC_SUPABASE_URL: https://supabase.tomica.ru
      NEXT_PUBLIC_SUPABASE_ANON_KEY: ${SUPABASE_ANON_KEY}
    ports:
      - "3000:3000"
    depends_on:
      - postgres

  # Nginx –ø—Ä–æ–∫—Å–∏
  nginx:
    image: nginx:alpine
    volumes:
      - ./nginx/default.conf:/etc/nginx/conf.d/default.conf
      - /etc/letsencrypt:/etc/letsencrypt
    ports:
      - "80:80"
      - "443:443"
    depends_on:
      - frontend

volumes:
  postgres_data:
```

### –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
```

#### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/username/zakaz2.git
cd zakaz2

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env.local
nano .env.local
```

#### 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
# –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose build

# –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose up -d postgres

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
docker-compose exec postgres psql -U postgres -d postgres -f /docker-entrypoint-initdb.d/apply_migrations.sql

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d zakaz2.tomica.ru

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo crontab -e
# –î–æ–±–∞–≤–∏—Ç—å: 0 12 * * * /usr/bin/certbot renew --quiet
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

#### –õ–æ–≥–∏
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose logs -f frontend

# –õ–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose logs -f postgres

# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f
```

#### –ë—ç–∫–∞–ø—ã
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –ë–î
#!/bin/bash
BACKUP_DIR="/opt/backups"
DATE=$(date +%Y%m%d_%H%M%S)
docker-compose exec -T postgres pg_dump -U postgres postgres | gzip > $BACKUP_DIR/zakaz2_$DATE.sql.gz

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "zakaz2_*.sql.gz" -mtime +30 -delete
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose build frontend
docker-compose up -d --no-deps frontend

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
docker-compose exec postgres psql -U postgres -d postgres -f /path/to/new/migration.sql
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ dev —Å–µ—Ä–≤–µ—Ä–æ–º
```bash
# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ
cd ~/zakaz2/frontend
nohup npm run dev > ~/zakaz2/frontend-dev.log 2>&1 &

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f ~/zakaz2/frontend-dev.log

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pkill -f "next dev"
```

#### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker exec -it supabase-db psql -U postgres

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü
\dt public.*

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫
SELECT 
  a.customer_fullname, 
  a.status, 
  addr.street || ', ' || addr.house as address
FROM zakaz_applications a
JOIN zakaz_addresses addr ON a.address_id = addr.id
ORDER BY a.created_at DESC;
```

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Dev —Ä–µ–∂–∏–º –≤ production** - —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏** - –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö
3. **–ù–µ—Ç real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** - —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. **–ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### –ü–ª–∞–Ω—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ production build, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
2. **UX** - real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Supabase Realtime
3. **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - React Native –∏–ª–∏ PWA
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º, CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## üë• –ö–æ–º–∞–Ω–¥–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

### –£—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **Product Owner:** makarenko
- **Developer:** Claude (AI Assistant)
- **Server Administrator:** makarenko
- **QA Engineer:** makarenko

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–°–µ—Ä–≤–µ—Ä:** n8n.tomica.ru (78.140.57.33)
- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Ubuntu 24.10
- **–î–æ–º–µ–Ω:** zakaz2.tomica.ru

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** GitHub Wiki
- **Issues:** GitHub Issues
- **–°–≤—è–∑—å:** –ß–µ—Ä–µ–∑ Telegram –∏–ª–∏ email

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –ø—Ä–∞–≤–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Next.js (MIT License)
- React (MIT License)
- PostgreSQL (PostgreSQL License)
- Supabase (Apache 2.0 License)
- Tailwind CSS (MIT License)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ü–î–Ω:
- –§–ò–û –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ù–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- –ê–¥—Ä–µ—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤

–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å 152-–§–ó –†–§.

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 29 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –î–µ–π—Å—Ç–≤—É—é—â–∏–π  

---

> üìå **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω–æ–µ –¢–ó —è–≤–ª—è–µ—Ç—Å—è –∂–∏–≤—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –∏ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ê–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ GitHub.

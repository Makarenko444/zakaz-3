# Целевые пользовательские сценарии: формирование бригад на объект

1. **Подбор монтажников при назначении объекта (Dispatcher/Operator)**
   - Открыть заявку/объект и задать регион/узел и требуемые специализации.
   - Подобрать монтажников из справочника, выбрать ответственного и подходящий совместный слот доступности.
   - Сохранить назначение: фиксация состава, интервала работ и комментария для объекта.

2. **Корректировка состава на объекте (Dispatcher/Operator, Lead)**
   - Добавить или заменить монтажника при смене графика или нехватке навыков.
   - Пересчитать доступность нового состава, обновить слот или сохранить факт замены с историей.

3. **Подтверждение и координация работ (Lead/Ответственный монтажник)**
   - Получить уведомление о назначении, подтвердить или предложить альтернативный слот.
   - Коммуницировать изменения с диспетчером, фиксировать финальное время и готовность.

4. **Выполнение и фиксация статусов (Engineer/Монтажник)**
   - Просматривать свои объекты, отмечать начало/завершение работ и добавлять комментарии/файлы.
   - Сообщать о задержках или блокерах, чтобы диспетчер мог перераспределить состав.

5. **Управление справочником монтажников (Admin)**
   - Поддерживать список монтажников, их навыки и доступность (отпуска/смены).
   - Обновлять регионы, узлы и набор специализаций для корректной фильтрации при назначении.

6. **Мониторинг загрузки и конфликтов (Admin/Dispatcher)**
   - Смотреть агрегаты по занятости монтажников и конфликтам по времени/локациям.
   - Перераспределять составы между объектами для выравнивания нагрузки.
# Целевые пользовательские сценарии: управление бригадами

1. **Создание новой бригады (Admin)**
   - Заполнить карточку: название, регион/узел, специализации, контакт лидера, вместимость.
   - Задать доступные слоты/календарь и сохранить черновик или активировать сразу.
   - Добавить участников из списка пользователей.

2. **Поддержание актуальности состава и специализаций (Lead)**
   - Обновить специализации и состав после изменений в команде.
   - Отметить отсутствие участников (отпуска/больничные) через календарь доступности.

3. **Назначение заявки на подходящую бригаду (Dispatcher/Operator)**
   - Открыть заявку в статусе «queue_install» или «install» и подобрать бригаду по региону/специализации.
   - Проверить загрузку и ближайшие свободные слоты, выбрать дату/время и зафиксировать назначение.
   - При необходимости указать конкретного исполнителя внутри бригады.

4. **Подтверждение или переезд работ (Lead)**
   - Получить уведомление о новом назначении, подтвердить или предложить альтернативный слот, указать причину переноса.
   - Обновить календарь, чтобы освободить/заблокировать время.

5. **Выполнение и закрытие назначений (Engineer)**
   - Просмотреть свои активные назначения, отметить фактическое начало/окончание, прикрепить комментарии или файлы.
   - Передать статусы/факт выполнения в карточку заявки для синхронизации с диспетчером.

6. **Мониторинг загрузки и планирование (Admin/Lead)**
   - Просмотреть агрегированные метрики по бригадам: занятость слотов, число активных заявок, геораспределение.
   - Использовать календари и фильтры для перераспределения нагрузки между бригадами.
